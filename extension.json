{
	"name": "Theme Toggle",
	"version": "0.4.1",

	"author": [
		"alex4401"
	],
	"url": "https://gitlab.mglolenstine.xyz/alex4401/mediawiki-extension-themetoggle",
	"descriptionmsg": "themetoggle-desc",
	"license-name": "GPL-2.0-or-later",
	"type": "other",

	"requires": {
		"MediaWiki": ">= 1.39.0",
		"platform": {
			"php": ">= 7.4"
		}
	},

	"MessagesDirs": {
		"ThemeToggle.class": [
			"i18n"
		]
	},

	"ResourceFileModulePaths": {
		"localBasePath": "modules",
		"remoteExtPath": "ThemeToggle/modules"
	},

	"ResourceModules": {
		"ext.themes.baseSwitcher": {
			"dependencies": [
				"ext.themes.siteMessages"
			],
			"packageFiles": [
				"shared.js",
				{
					"name": "config.json",
					"callback": "MediaWiki\\Extension\\Ark\\ThemeToggle\\ResourceLoaderHooks::getSiteConfigModuleContents"
				}
			],
			"targets": [ "desktop", "mobile" ]
		}
	},

	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\Ark\\ThemeToggle\\": "includes/"
	},

	"SpecialPages": {
		"ThemeUsage": "MediaWiki\\Extension\\Ark\\ThemeToggle\\SpecialThemeUsage"
	},
	
	"HookHandlers": {
		"ArticleHooks": {
			"class": "MediaWiki\\Extension\\Ark\\ThemeToggle\\ArticleHooks"
		},
		"BodyHooks": {
			"class": "MediaWiki\\Extension\\Ark\\ThemeToggle\\BodyHooks"
		},
		"PreferenceHooks": {
			"class": "MediaWiki\\Extension\\Ark\\ThemeToggle\\PreferenceHooks"
		},
		"ResourceLoaderHooks": {
			"class": "MediaWiki\\Extension\\Ark\\ThemeToggle\\ResourceLoaderHooks"
		}
	},
	"Hooks": {
		"PageDeleteComplete": "ArticleHooks",
		"PageSaveComplete": "ArticleHooks",
		"BeforePageDisplay": "BodyHooks",
		"ResourceLoaderRegisterModules": "ResourceLoaderHooks",
		"GetPreferences": "PreferenceHooks",
		"UserGetDefaultOptions": "PreferenceHooks"
	},

	"config": {
		"ThemeToggleDefault": {
			"value": "auto",
			"description": "Default theme. Valid values are 'auto', 'light', 'dark'."
		},
		"ThemeToggleSiteCssBundled": {
			"value": [],
			"description": "The default theme (or fallback if auto) should be specified here at minimum."
		},
		"ThemeToggleDisableAutoDetection": {
			"value": false
		},
		"ThemeToggleSwitcherStyle": {
			"value": "auto"
		},
		"ThemeToggleEnableForAnonymousUsers": {
			"value": true
		},
		"ThemeTogglePreferenceGroup": {
			"value": null
		},
		"ThemeToggleAsyncCoreJsDelivery": {
			"value": true
		},
		"ThemeToggleLoadScriptOverride": {
			"value": null
		}
	},

	"manifest_version": 2
}
